# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)

# Prescribed by Xola Plugin Documentation.
# API Endpoint that receives the initial user data.
POST    /installations              controllers.InstallationController.initiateInstall()

# Prescribed by Xola Plugin Documentation.
# API Endpoint that receives data from Xola.
# It can be either webhook data or plugin configuration.
POST    /events                       controllers.IncomingDataController.index()

# Prescribed by Xola Plugin Documentation.
# API endpoints for CRUD on plugin configuration for a specific user.
GET     /installations/:id/config            controllers.ConfigurationController.updateConfiguration(id: String)
PUT     /installations/:id/config            controllers.ConfigurationController.getConfiguration(id: String)
# Retrieve the list of Subscription-Lists of the installation id
GET     /installations/:id/field/:fid    controllers.MailingListController.getFieldData(id: String, fid: String)

# The Redirect URL. Xola redirect to this URL. It initiates the Mailchimp OAuth process.
POST    /oauth/init                 controllers.OAuthController.initiate()
# The URL Mailchimp redirects to after completing the OAuth process
GET     /oauth/finish               controllers.OAuthController.complete()
# Display the list of Subscriptions List of the user
GET     /lists                      controllers.MailingListController.index()
# Save the selected subscription list
POST    /save                       controllers.SaveController.index()
# Display Success or Failure
GET     /final                      controllers.FinalController.index(message: String)
